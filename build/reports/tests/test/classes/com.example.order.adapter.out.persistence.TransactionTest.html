<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - TransactionTest</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>TransactionTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/com.example.order.adapter.out.persistence.html">com.example.order.adapter.out.persistence</a> &gt; TransactionTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">2</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">0.015s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">createOrder_WithValidData_ShouldPersistOrderAndItems()</td>
<td class="success">0.009s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">transaction_ShouldRollbackOnError()</td>
<td class="success">0.006s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>2026-02-06T00:02:23.731+09:00  INFO 58699 --- [order-service] [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.order.adapter.out.persistence.TransactionTest]: TransactionTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-06T00:02:23.731+09:00  INFO 58699 --- [order-service] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.order.OrderApplication for test class com.example.order.adapter.out.persistence.TransactionTest
2026-02-06T00:02:23.734+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.734+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@1c4ea118 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.734+09:00  WARN 58699 --- [order-service] [    Test worker] io.r2dbc.h2.H2Connection                 : Option{name='readOnly', sensitive=false} + isn't supported in H2 at the transaction level. You must set it on conenction URL. See http://www.h2database.com/html/features.html#read_only
2026-02-06T00:02:23.734+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT orders.* FROM orders WHERE orders.ID = $1 LIMIT 2 {1: '0a3120d1-17d2-417d-996d-768eaf7dfe1b'}
2026-02-06T00:02:23.734+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@7d821bd9 columns: 9 rows: 0 pos: -1
2026-02-06T00:02:23.735+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  INSERT INTO orders (ID, customer_id, customer_email, status, total_amount, currency, created_at, updated_at) VALUES ($1, $2, $3, $4, $5, $6, $7, $8) {1: '0a3120d1-17d2-417d-996d-768eaf7dfe1b', 2: 'CUST-001', 3: 'test@example.com', 4: 'PENDING', 5: 199.98, 6: 'USD', 7: TIMESTAMP WITH TIME ZONE '2026-02-05 15:02:23.734068+00', 8: TIMESTAMP WITH TIME ZONE '2026-02-05 15:02:23.734068+00'}
2026-02-06T00:02:23.735+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  INSERT INTO order_items (order_id, product_id, product_name, quantity, unit_price, currency) VALUES ($1, $2, $3, $4, $5, $6) {1: '0a3120d1-17d2-417d-996d-768eaf7dfe1b', 2: 'PROD-001', 3: 'Test Product', 4: 2, 5: 99.99, 6: 'USD'}
2026-02-06T00:02:23.735+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT orders.* FROM orders WHERE orders.ID = $1 LIMIT 2 {1: '0a3120d1-17d2-417d-996d-768eaf7dfe1b'}
2026-02-06T00:02:23.735+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@2755f323 columns: 9 rows: 1 pos: -1
2026-02-06T00:02:23.735+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT order_items.* FROM order_items WHERE order_items.order_id = $1 {1: '0a3120d1-17d2-417d-996d-768eaf7dfe1b'}
2026-02-06T00:02:23.735+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@3fb6d686 columns: 7 rows: 1 pos: -1
2026-02-06T00:02:23.736+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  INSERT INTO outbox (aggregate_type, aggregate_id, event_type, payload, created_at, processed) VALUES ($1, $2, $3, $4, $5, $6) {1: 'Order', 2: '0a3120d1-17d2-417d-996d-768eaf7dfe1b', 3: 'OrderCreatedEvent', 4: '{&quot;orderId&quot;:&quot;0a3120d1-17d2-417d-996d-768eaf7dfe1b&quot;,&quot;customerEmail&quot;:&quot;test@example.com&quot;,&quot;totalAmount&quot;:{&quot;amount&quot;:199.98,&quot;currency&quot;:&quot;USD&quot;},&quot;createdAt&quot;:&quot;2026-02-05T15:02:23.734068Z&quot;}', 5: TIMESTAMP WITH TIME ZONE '2026-02-05 15:02:23.735875+00', 6: FALSE}
2026-02-06T00:02:23.736+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  COMMIT
2026-02-06T00:02:23.736+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.736+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@1514c417 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.736+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.736+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@65aa0c39 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.736+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT COUNT(*) FROM orders WHERE id = $1 {1: '0a3120d1-17d2-417d-996d-768eaf7dfe1b'}
2026-02-06T00:02:23.739+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@3bf4390d columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.739+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.739+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@4fc3ac1 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.739+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.739+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@5b9beac9 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.739+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT COUNT(*) FROM order_items WHERE order_id = $1 {1: '0a3120d1-17d2-417d-996d-768eaf7dfe1b'}
2026-02-06T00:02:23.739+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@58dc1aaa columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.739+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.739+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@71f83fd1 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.740+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.740+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@136e7b1c columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.740+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  DELETE FROM order_items
2026-02-06T00:02:23.740+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.740+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@79e12f24 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.740+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.740+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@71c6bf20 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.740+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  DELETE FROM orders
2026-02-06T00:02:23.740+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.740+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@6453dcc3 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.743+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.743+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@6caca8ed columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.743+09:00  WARN 58699 --- [order-service] [    Test worker] io.r2dbc.h2.H2Connection                 : Option{name='readOnly', sensitive=false} + isn't supported in H2 at the transaction level. You must set it on conenction URL. See http://www.h2database.com/html/features.html#read_only
2026-02-06T00:02:23.743+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT orders.* FROM orders WHERE orders.ID = $1 LIMIT 2 {1: '816fc897-d801-4da8-adce-a23e1db2ce85'}
2026-02-06T00:02:23.743+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@2f6a0f9c columns: 9 rows: 0 pos: -1
2026-02-06T00:02:23.743+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  INSERT INTO orders (ID, customer_id, customer_email, status, total_amount, currency, created_at, updated_at) VALUES ($1, $2, $3, $4, $5, $6, $7, $8) {1: '816fc897-d801-4da8-adce-a23e1db2ce85', 2: 'CUST-ROLLBACK', 3: 'rollback@example.com', 4: 'PENDING', 5: 199.98, 6: 'USD', 7: TIMESTAMP WITH TIME ZONE '2026-02-05 15:02:23.743233+00', 8: TIMESTAMP WITH TIME ZONE '2026-02-05 15:02:23.743233+00'}
2026-02-06T00:02:23.744+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  INSERT INTO order_items (order_id, product_id, product_name, quantity, unit_price, currency) VALUES ($1, $2, $3, $4, $5, $6) {1: '816fc897-d801-4da8-adce-a23e1db2ce85', 2: 'PROD-001', 3: 'Test Product', 4: 2, 5: 99.99, 6: 'USD'}
2026-02-06T00:02:23.744+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT orders.* FROM orders WHERE orders.ID = $1 LIMIT 2 {1: '816fc897-d801-4da8-adce-a23e1db2ce85'}
2026-02-06T00:02:23.744+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@718b10c2 columns: 9 rows: 1 pos: -1
2026-02-06T00:02:23.744+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT order_items.* FROM order_items WHERE order_items.order_id = $1 {1: '816fc897-d801-4da8-adce-a23e1db2ce85'}
2026-02-06T00:02:23.744+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@257ec110 columns: 7 rows: 1 pos: -1
2026-02-06T00:02:23.744+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  INSERT INTO outbox (aggregate_type, aggregate_id, event_type, payload, created_at, processed) VALUES ($1, $2, $3, $4, $5, $6) {1: 'Order', 2: '816fc897-d801-4da8-adce-a23e1db2ce85', 3: 'OrderCreatedEvent', 4: '{&quot;orderId&quot;:&quot;816fc897-d801-4da8-adce-a23e1db2ce85&quot;,&quot;customerEmail&quot;:&quot;rollback@example.com&quot;,&quot;totalAmount&quot;:{&quot;amount&quot;:199.98,&quot;currency&quot;:&quot;USD&quot;},&quot;createdAt&quot;:&quot;2026-02-05T15:02:23.743233Z&quot;}', 5: TIMESTAMP WITH TIME ZONE '2026-02-05 15:02:23.744857+00', 6: FALSE}
2026-02-06T00:02:23.746+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  ROLLBACK
2026-02-06T00:02:23.746+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.746+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@473ae517 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.746+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.746+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@76ce38f5 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.746+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT COUNT(*) FROM orders WHERE customer_id = $1 {1: 'CUST-ROLLBACK'}
2026-02-06T00:02:23.746+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@195332ed columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.746+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.746+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@2e862e83 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.747+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.747+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@294c39a0 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.747+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  DELETE FROM order_items
2026-02-06T00:02:23.747+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.747+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@3e87d5da columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.747+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.747+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@1a3bebf9 columns: 1 rows: 1 pos: -1
2026-02-06T00:02:23.747+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  DELETE FROM orders
2026-02-06T00:02:23.747+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Request:  SELECT CURRENT_TIMESTAMP
2026-02-06T00:02:23.747+09:00 DEBUG 58699 --- [order-service] [    Test worker] io.r2dbc.h2.client.SessionClient         : Response: org.h2.result.LocalResult@6b238c47 columns: 1 rows: 1 pos: -1
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 8.5</a> at 2026. 2. 6. 오전 12:02:27</p>
</div>
</div>
</body>
</html>
